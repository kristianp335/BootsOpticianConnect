<div class="boots-header-fragment">
    <header class="boots-header [#if configuration.headerStyle == "primary"]boots-header-primary[/#if]">
        <div class="boots-container">
            <div class="boots-header-content">
                <!-- Left Sliding Menu Toggle -->
                <button 
                    class="boots-menu-toggle boots-focus-visible" 
                    id="boots-menu-toggle"
                    aria-expanded="false"
                    aria-controls="boots-sliding-menu"
                    aria-label="Toggle navigation menu"
                >
                    <span class="boots-menu-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                    <span class="boots-sr-only">Menu</span>
                </button>
                
                <!-- Boots Logo -->
                <div class="boots-header-logo">
                    <img 
                        src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMTIwIDQwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxzdHlsZT4uYntmaWxsOiMxODQyOTA7Zm9udC1mYW1pbHk6J0NvdXJpZXIgTmV3Jyxtb25vc3BhY2U7Zm9udC1zaXplOjI0cHg7Zm9udC13ZWlnaHQ6Ym9sZDt9PC9zdHlsZT48L2RlZnM+PHRleHQgeD0iMTAiIHk9IjI4IiBjbGFzcz0iYiI+Qm9vdHM8L3RleHQ+PC9zdmc+"
                        alt="Boots"
                        width="120"
                        height="40"
                        data-lfr-editable-id="header-logo"
                        data-lfr-editable-type="image"
                    >
                </div>
                
                <!-- Partner Company Name -->
                <div class="boots-partner-name">
                    <span data-lfr-editable-id="partner-name" data-lfr-editable-type="text">
                        ${configuration.companyName}
                    </span>
                </div>
                
                <!-- Header Actions -->
                <div class="boots-header-actions">
                    [#if configuration.showSearch!true]
                    <!-- Search Button -->
                    <button class="boots-search-btn boots-focus-visible" id="boots-search-btn" aria-label="Open search">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="2"/>
                            <path d="M15 15L19 19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    [/#if]
                    
                    <!-- Language Selector Dropzone -->
                    <div class="boots-language-selector-dropzone">
                        <div id="dropzone-language-selector" class="boots-dropzone-container">
                            <!-- Language selector widgets will be placed here in edit mode -->
                        </div>
                    </div>
                    
                    [#if configuration.showNotifications!true]
                    <!-- Notifications -->
                    <div class="boots-notifications">
                        <button class="boots-notification-btn boots-focus-visible" aria-label="Notifications">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 2C7.8 2 6 3.8 6 6V9L4 11H16L14 9V6C14 3.8 12.2 2 10 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 15C12 16.1 11.1 17 10 17S8 16.1 8 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <span class="boots-notification-badge">3</span>
                        </button>
                        
                        <!-- Notifications Dropdown -->
                        <div class="boots-notifications-dropdown">
                            <div class="boots-notifications-header">
                                <h4>Notifications</h4>
                            </div>
                            <div class="boots-notifications-list">
                                <div class="boots-notification-item">
                                    <div class="boots-notification-content">
                                        <h5>Training Module Due</h5>
                                        <p>Complete your quarterly compliance training by Friday</p>
                                        <small>2 hours ago</small>
                                    </div>
                                </div>
                                <div class="boots-notification-item">
                                    <div class="boots-notification-content">
                                        <h5>New Case Assigned</h5>
                                        <p>Customer query regarding prescription glasses</p>
                                        <small>4 hours ago</small>
                                    </div>
                                </div>
                                <div class="boots-notification-item">
                                    <div class="boots-notification-content">
                                        <h5>Performance Report Available</h5>
                                        <p>Your monthly performance summary is ready</p>
                                        <small>1 day ago</small>
                                    </div>
                                </div>
                            </div>
                            <div class="boots-notifications-footer">
                                <a href="/notifications" class="boots-btn boots-btn-outline">View All</a>
                            </div>
                        </div>
                    </div>
                    [/#if]
                    
                    [#if configuration.showUserProfile!true]
                    <!-- User Profile / Login -->
                    <div class="boots-user-profile">
                        [#if themeDisplay.isSignedIn()]
                        <!-- Authenticated User Menu -->
                        <button class="boots-profile-btn boots-focus-visible" aria-label="User menu" aria-expanded="false">
                            <div class="boots-avatar">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M10 2C11.1 2 12 2.9 12 4S11.1 6 10 6 8 5.1 8 4 8.9 2 10 2ZM10 16C7.3 16 5 13.7 5 11C5 9.9 5.9 9 7 9H13C14.1 9 15 9.9 15 11C15 13.7 12.7 16 10 16Z" fill="currentColor"/>
                                </svg>
                            </div>
                            <span class="boots-profile-name">${user.fullName}</span>
                            <svg class="boots-chevron" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        [#else]
                        <!-- Login Button for Guest Users -->
                        <button class="boots-login-btn boots-focus-visible" id="boots-login-btn" aria-label="Sign in">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M14 6H3C2.4 6 2 6.4 2 7V17C2 17.6 2.4 18 3 18H14C14.6 18 15 17.6 15 17V7C15 6.4 14.6 6 14 6Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M5 6V4C5 2.9 5.9 2 7 2H10C11.1 2 12 2.9 12 4V6" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Sign In
                        </button>
                        [/#if]
                        
                        <!-- Profile Dropdown -->
                        <div class="boots-profile-dropdown">
                            <div class="boots-profile-info">
                                <div class="boots-profile-details">
                                    <h4 data-lfr-editable-id="user-name" data-lfr-editable-type="text">John Smith</h4>
                                    <p data-lfr-editable-id="user-role" data-lfr-editable-type="text">Senior Optician</p>
                                </div>
                            </div>
                            <div class="boots-profile-menu">
                                <a href="/profile" class="boots-profile-link">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                        <path d="M8 2C9.1 2 10 2.9 10 4S9.1 6 8 6 6 5.1 6 4 6.9 2 8 2ZM8 14C5.8 14 4 12.2 4 10C4 9.4 4.4 9 5 9H11C11.6 9 12 9.4 12 10C12 12.2 10.2 14 8 14Z" fill="currentColor"/>
                                    </svg>
                                    My Profile
                                </a>
                                <a href="/settings" class="boots-profile-link">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                        <path d="M8 5C6.3 5 5 6.3 5 8S6.3 11 8 11 11 9.7 11 8 9.7 5 8 5ZM8 1L9.2 3.8L12 4L9.2 4.2L8 7L6.8 4.2L4 4L6.8 3.8L8 1ZM14 8C14 8.4 13.6 8.8 13.2 8.8L11.4 9.2C11.3 9.5 11.1 9.8 11 10L11.4 11.8C11.5 12.2 11.3 12.6 10.9 12.7L9.1 13.3C8.7 13.4 8.3 13.2 8.2 12.8L7.8 11C7.5 11 7.2 11 7 11L6.6 12.8C6.5 13.2 6.1 13.4 5.7 13.3L3.9 12.7C3.5 12.6 3.3 12.2 3.4 11.8L3.8 10C3.7 9.8 3.5 9.5 3.4 9.2L1.6 8.8C1.2 8.8 0.8 8.4 0.8 8C0.8 7.6 1.2 7.2 1.6 7.2L3.4 6.8C3.5 6.5 3.7 6.2 3.8 6L3.4 4.2C3.3 3.8 3.5 3.4 3.9 3.3L5.7 2.7C6.1 2.6 6.5 2.8 6.6 3.2L7 5C7.3 5 7.6 5 7.8 5L8.2 3.2C8.3 2.8 8.7 2.6 9.1 2.7L10.9 3.3C11.3 3.4 11.5 3.8 11.4 4.2L11 6C11.1 6.2 11.3 6.5 11.4 6.8L13.2 7.2C13.6 7.2 14 7.6 14 8Z" fill="currentColor"/>
                                    </svg>
                                    Settings
                                </a>
                                <div class="boots-profile-divider"></div>
                                <a href="/logout" class="boots-profile-link">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                        <path d="M6 14H3C2.4 14 2 13.6 2 13V3C2 2.4 2.4 2 3 2H6M11 11L14 8L11 5M14 8H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    Sign Out
                                </a>
                            </div>
                        </div>
                    </div>
                    [/#if]
                </div>
            </div>
        </div>
    </header>
    
    <!-- Search Modal -->
    [#if configuration.showSearch!true]
    <div class="boots-search-overlay" id="boots-search-overlay" role="dialog" aria-modal="true" aria-labelledby="search-modal-title" style="display: none;">
        <div class="boots-search-backdrop"></div>
        <div class="boots-search-modal">
            <div class="boots-search-header">
                <h2 id="search-modal-title" data-lfr-editable-id="search-modal-title" data-lfr-editable-type="text">Search Portal</h2>
                <button class="boots-search-close" aria-label="Close search">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="boots-search-content">
                <!-- Embedded Liferay Search Portlet -->
                <div class="boots-search-dropzone">
                    <div id="dropzone-search-portlet" class="boots-dropzone-container">
                        <!-- Search portlets will be placed here in edit mode -->
                        <div class="boots-search-fallback">
                            [@liferay_portlet["runtime"] portletName="com_liferay_portal_search_web_search_bar_portlet_SearchBarPortlet" /]
                        </div>
                    </div>
                </div>
                
                <!-- Search Suggestions Dropzone -->
                <div class="boots-search-suggestions-dropzone">
                    <div id="dropzone-search-suggestions" class="boots-dropzone-container">
                        <!-- Search result widgets can be placed here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    [/#if]
    
    <!-- Login Modal -->
    [#if configuration.showUserProfile!true && !themeDisplay.isSignedIn()]
    <div class="boots-login-overlay" id="boots-login-overlay" role="dialog" aria-modal="true" aria-labelledby="login-modal-title" style="display: none;">
        <div class="boots-login-backdrop"></div>
        <div class="boots-login-modal">
            <div class="boots-login-header">
                <h2 id="login-modal-title" data-lfr-editable-id="login-modal-title" data-lfr-editable-type="text">Sign In to Partner Portal</h2>
                <button class="boots-login-close" aria-label="Close login">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            <div class="boots-login-content">
                <!-- Embedded Liferay Login Portlet -->
                [@liferay_portlet["runtime"] portletName="com_liferay_login_web_portlet_LoginPortlet" /]
            </div>
        </div>
    </div>
    [/#if]
    
    <!-- Left Sliding Menu -->
    <nav class="boots-sliding-menu" id="boots-sliding-menu" aria-hidden="true">
        <div class="boots-menu-header">
            <div class="boots-menu-logo">
                <img 
                    src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjMwIiB2aWV3Qm94PSIwIDAgMTAwIDMwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjx0ZXh0IHg9IjUiIHk9IjIwIiBmaWxsPSIjMTg0MjkwIiBmb250LWZhbWlseT0ic2VyaWYiIGZvbnQtc2l6ZT0iMTgiIGZvbnQtd2VpZ2h0PSJib2xkIj5Cb290czwvdGV4dD48L3N2Zz4="
                    alt="Boots Portal"
                    width="100"
                    height="30"
                >
            </div>
            <button class="boots-menu-close boots-focus-visible" aria-label="Close menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>
        
        <div class="boots-menu-content">
            <ul class="boots-menu-list">
                <li class="boots-menu-item">
                    <a href="/dashboard" class="boots-menu-link active">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 10C2 10 5 4 10 4S18 10 18 10S15 16 10 16S2 10 2 10Z" stroke="currentColor" stroke-width="2"/>
                            <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Dashboard
                    </a>
                </li>
                <li class="boots-menu-item">
                    <a href="/training" class="boots-menu-link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M2 3H6C7.1 3 8.1 3.4 8.8 4.1L10 5.3C10.7 6 11.7 6.4 12.8 6.4H18V15C18 16.1 17.1 17 16 17H4C2.9 17 2 16.1 2 15V3Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Training & Development
                    </a>
                </li>
                <li class="boots-menu-item">
                    <a href="/cases" class="boots-menu-link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M7 3H17C18.1 3 19 3.9 19 5V15C19 16.1 18.1 17 17 17H7C5.9 17 5 16.1 5 15V12M1 12V5C1 3.9 1.9 3 3 3H5V15C5 16.1 5.9 17 7 17H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Case Management
                    </a>
                </li>
                <li class="boots-menu-item">
                    <a href="/performance" class="boots-menu-link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M3 17L9 11L13 15L21 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M21 7H15M21 7V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Performance
                    </a>
                </li>
                <li class="boots-menu-item">
                    <a href="/resources" class="boots-menu-link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M4 19.5C4 18.1 4 17.4 4.3 16.9C4.6 16.4 5.1 16.1 6.1 15.5L10 13L13.9 15.5C14.9 16.1 15.4 16.4 15.7 16.9C16 17.4 16 18.1 16 19.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 13V2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M10 2L6 6M10 2L14 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Resources
                    </a>
                </li>
                <li class="boots-menu-item">
                    <a href="/support" class="boots-menu-link">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="2"/>
                            <path d="M7.5 7.5C7.8 6.7 8.4 6.2 9.2 6C10 5.8 10.8 6 11.4 6.5C12 7 12.3 7.8 12.1 8.6C11.9 9.4 11.3 10 10.5 10.3C9.7 10.6 9.5 10.9 9.5 11.3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <circle cx="10" cy="14" r="1" fill="currentColor"/>
                        </svg>
                        Support
                    </a>
                </li>
            </ul>
            
            <div class="boots-menu-footer">
                <div class="boots-menu-user">
                    <div class="boots-menu-user-info">
                        <h4 data-lfr-editable-id="menu-user-name" data-lfr-editable-type="text">John Smith</h4>
                        <p data-lfr-editable-id="menu-user-location" data-lfr-editable-type="text">Manchester Store</p>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Overlay for closing menu -->
    <div class="boots-overlay" aria-hidden="true"></div>
</div>
